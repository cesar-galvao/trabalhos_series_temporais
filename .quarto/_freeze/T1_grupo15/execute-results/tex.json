{
  "hash": "2f380c3df7b54f2fd469de0adde5f5ad",
  "result": {
    "markdown": "---\ntitle: \"Trabalho Prático 1\"\nsubtitle: \"Análise de Séries Temporais - 1/2023\" \nauthor:\n  - Ana Theresa Figueiredo - 18/0116088\n  - César Augusto Galvão - 19/0011572\nformat: \n  pdf:\n    toc: true\n    keep-tex: true\n    include-in-header:\n      text: |\n        \\usepackage[auth-lg]{authblk}\nexecute:\n  echo: false\n  message: false\n  warning: false\n---\n\n{{< pagebreak >}}\n\n\n\n\n\n# Introdução\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n\nA série temporal escolhida foi a de número *id* correspondente a 2546. De acordo com a definição do próprio pacote, refere-se a *Large commercial banks, commercial & industrial loans*, ou seja, dados financeiros e de impréstimos industriais e comerciais. Foram realizadas medidas mensais de 1983 a 1992 e o horizonte de previsão requerido é das 18 ocorrências seguintes.\n\nO gráfico da série, com *in* e *out-sample*, é exposto a seguir.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](T1_grupo15_files/figure-pdf/plot-serie-total-1.pdf)\n:::\n:::\n\n\n\n\n## a. Decomposição da série temporal.\n\nInicia-se a decomposição utilizando STL, caso em que se espera uma decomposição com sazonalidade simples. O gráfico dos resultados da função `decompose()` são expostos a seguir para a decomposição aditiva, visto que não há diferença, neste caso, entre esta e a decomposição multiplicativa.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](T1_grupo15_files/figure-pdf/STL-1.pdf)\n:::\n:::\n\n\nDe fato, observa-se uma tendência crescente até 1990, além de parecer haver também uma sazonalidade anual. Além disso, o termo aleatório parece estável a menos de um pico em 1997. \n\nExperimenta-se também a decomposição com MSTL, procurando uma sazonalidade múltipla. Após algumas iterações, optou-se pelo período bimestral, complementarmente ao período mensal original da série.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](T1_grupo15_files/figure-pdf/unnamed-chunk-1-1.pdf)\n:::\n:::\n\n\nDe fato, conseguiu-se remover o pico inicial da sazonalidade simples. No entanto, nota-se uma variação grande nas amplitudes sazonais.\n\nOpta-se finalmente pela decomposição STL, com sazonalidade simples.\n\n\n## b. Escolha um modelo ARIMA\n\n -  O modelo selecionado deve ser baseado no que você visualizou na decomposição, testes\nestatísticos, gráficos ACF, gráficos PACF, critérios de parcimonia e resíduos;\n - Detalhe todo o procedimento da escolha do modelo;\n - Nao pode usar AutoArima\n - Tem q fazer o algorito mostrado em sala.\n \nPara selecionar o modelo ARIMA, iniciamos pela identificação das diferenciações sazonais e não sazonais utilizando as funções `nsdiffs()` e `ndiffs()`, respectivamente, do pacote `forecast`. Dessa forma, para um modelo $\\text{SARIMA}(p,d,q)\\times(P,D,Q)_{12}$ ou $\\text{ARIMA}(p,d,q)_{12}$, obtemos os valores de $D$ e $d$.\n\n\n::: {.cell}\n\n:::\n\n\nIsto feito, sabemos que o modelo é pelo menos $(p,2,q)\\times(P,0,Q)_{12}$.\n\n### Análise gráfica FAC e FACP\n\n### Análise iterativa\n\n\n## c. Análise de resíduos do modelo selecionado. \n\n- Inclua gráficos e testes estatísticos;\n-  Comente sobre os resultados;\n\n## d. Apresente a equação do modelo selecionado.\n\n-  Utilize a estimava dos parâmetros. Exemplo: o modelo selecionado é um AR(1) definido como\nxt = 0.5xt−1 + εt, t = 1, 2, 3, . . ., em que {εt} é um processo i.i.d. Normal(0, 3);\n\n# Apêndice\n\nTodo o projeto de composição deste documento pode ser encontrado aqui: https://github.com/cesar-galvao/trabalhos_series \n\n\n::: {.cell}\n\n```{.r .cell-code}\n#código\npacman::p_load(Mcomp, tidyverse, forecast, fpp2, xts)\n\ndata(M3) #carrega os dados\nid <- 2546 #série temporal escolhida\n\nserie <- M3[[id]]\n\ndados <- serie$x\n\nplot(serie)\n\n#| fig-width: 6\n#| fig-height: 4\n\nserie$x %>% decompose(type = \"a\") %>% plot()\n\n#| fig-width: 7\n#| fig-height: 4.5\n\n# Exemplo: utilizando msts com 2 sazonalidades\nx2 <- msts(as.numeric(serie$x), seasonal.periods = c(12, 6))\n#sazonalidade diaria e semanal\n#janela de ajuste 'Cleveland et al (1990)'\nx2 %>% mstl(s.window = 7) %>% plot(main = \"Decomposição MSTL\")\n\nd <- ndiffs(serie$x)\n\nD <- nsdiffs(serie$x)\n```\n:::\n",
    "supporting": [
      "T1_grupo15_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}